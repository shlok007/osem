.unobtrusive-flash-container
.row
  .col-md-12
    .page-header
      %h2
        Role
        = @role.name.titleize
        - if can? :edit, @role
          - if @role.resource == @organization
            = link_to 'Edit', edit_admin_organization_role_path(@organization, @role.name), class: 'btn btn-primary pull-right'
          - else
            = link_to 'Edit', edit_admin_conference_role_path(@conference.short_title, @role.name), class: 'btn btn-primary pull-right'
      .text-muted
        = @role.description

.row.col-md-3
  - if @role.resource == @organization
    - if ( can? :toggle_organization_role, @role ) && !@role.new_record?
      = semantic_form_for :user, url: toggle_organization_role_admin_organization_role_path(@organization, @role.name), method: :post do |u|

        = u.label 'Add user by email: '
        .input-group
          = u.input :email, label: false, placeholder: "User's email"
          .input-group-btn
            = u.submit 'Add', id: 'user-add', class: 'btn btn-primary'
  - else
    - if ( can? :toggle_conference_roles, @role ) && !@role.new_record?
      = semantic_form_for :user, url: toggle_conference_roles_admin_conference_role_path(@conference.short_title, @role.name), method: :post do |u|

        = u.label 'Add user by email: '
        .input-group
          = u.input :email, label: false, placeholder: "User's email"
          .input-group-btn
            = u.submit 'Add', id: 'user-add', class: 'btn btn-primary'

.row
  .col-md-12
    #users_area
      - if @role.resource == @organization
        = render partial: 'users_with_organization_role', locals: { users: @users }
      - else
        = render partial: 'users_with_conference_role', locals: { users: @users }
